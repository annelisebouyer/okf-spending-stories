<div ng-controller="cardsCtrl" class="cards-content">
    <div class="cards-grid row">
        <div class="card col-xs-4 col-md-3" 
             ng-repeat="d in search.results"
             ng-click="showDetails(d)"
             ng-init="d.details_visible = false"
             ng-class="{active: d.details_visible, sticky: d.sticky }">
            <div class="row card-heading">
                
                <h6 class="card-equivalent" ng-if="!d.details_visible">
                    [[d|cardEquivalent]]
                </h5>
                <h6 class="card-equivalent" ng-if="d.details_visible">
                    [[search.query|humanizeValue:search.currency]]&nbsp;[[d|cardEquivalent]]
                </h5>
                <h5 class="title" ng-if="!d.details_visible">[[ d.title|truncate:35 ]]</h5>
                <h5 class="title" ng-if="d.details_visible">[[ d.title ]]</h5>
            </div>
            <div class="card-infos row">
                <img ng-src="[[d.themes[0].image]]" ng-if="d.themes.length && !d.details_visible" />
                <ul class="card-infos-list list-unstyled" ng-if="d.details_visible">
                    <li>Cost: [[d.value|humanizeValue:d.currency.iso_code]]</li>
                    <li>Year: [[d.year]]</li>
                    <li ng-if="d.source">Source: <a href="[[d.source]]">[[d.source|linkDomain]]</a></li>
                </ul>
                <a class="embed" ng-if="d.details_visible" ><i class="icon-share"></i>&nbsp;Click to copy the embed code</a>
            </div>
        </div>
    </div>
    <div class="load-more row">
        <button class="btn btn-primary">Load more</button>
    </div>
</div>  