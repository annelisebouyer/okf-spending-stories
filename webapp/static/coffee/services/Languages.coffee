# minimalist service to handle the loading of supported languages stored 
# in locales/supported.json (generated by a grunt task here)
class LanguagesService
    @$inject: ['Restangular']
    
    constructor: (Restangular)->
        defaultLanguages = [{
            "name": "English",
            "key": "en_GB"
        }]

        @supportedLanguages = defaultLanguages

        Restangular.all('filters').getList().then (data)=>
            @supportedLanguages = data.lang


angular.module('storiesServices').service "languagesService", LanguagesService