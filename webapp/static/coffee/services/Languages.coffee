# minimalist service to handle the loading of supported languages stored 
# in locales/supported.json (generated by a grunt task here)
class LanguagesService

    @$inject: ['$http']
    
    constructor: (@http)->
        defaultLanguages = [{
            "name": "English",
            "code": "en_GB"
        }]
        @supportedLanguages = defaultLanguages
        @http( method: 'GET', url: STATIC_URL + 'locales/supported.json' )
            .success (data)=>
                @supportedLanguages = data

angular.module('storiesServices').service "languagesService", LanguagesService