# minimalist service to handle the loading of supported languages stored 
# in locales/supported.json (generated by a grunt task here)
class LanguagesService
    @$inject: ['Restangular', '$translate']
    
    constructor: (Restangular, @translate)->
        @list = Restangular.all('languages').getList()
        @current = @translate.uses()
        
    setCurrent: (lang=@translate.uses())=>
        @current = lang
        @translate.uses(@current)

angular.module('storiesServices').service "languagesService", LanguagesService